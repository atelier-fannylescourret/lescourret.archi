/* Bootstrap. */
@import "theme";
@import "../../bower_components/bootstrap/scss/bootstrap-flex";


/* Utilities. */
@mixin animated-transition($transition) {
  -webkit-transition: $transition;
  -moz-transition: $transition;
  -ms-transition: $transition;
  -o-transition: $transition;
  transition: $transition;
}

@mixin show-size {
  @include media-breakpoint-up(xs) { background-color: purple; }
  @include media-breakpoint-up(sm) { background-color: cyan; }
  @include media-breakpoint-up(md) { background-color: yellow; }
  @include media-breakpoint-up(lg) { background-color: orange; }
  @include media-breakpoint-up(xl) { background-color: red; }
}

@mixin grayscale($level) {
  -webkit-filter: grayscale($level);
  -moz-filter: grayscale($level);
  -ms-filter: grayscale($level);
  -o-filter: grayscale($level);
  filter: grayscale($level);
  //filter: gray; /* IE 6-9 */
}


/* Macro blocks. */
html {
  position: relative;
  min-height: 100%;
}

body {
  position: relative;
  min-height: 100%;
  margin: 0;
  padding: 54px 0 100px 0;  // Footer height + some space.
  @include media-breakpoint-down(sm) { padding-top: 0px; }
  background-color: $color_body_bg;
  font-family: $font_standard;
}

address {
  white-space: pre;
}

section {
  padding-top: 54px;
}


header {
  position: absolute;
  @include media-breakpoint-down(sm) { position: relative; }
  display: block;
  top: 0;
  @include media-breakpoint-down(xs) { height: auto; }
  @include media-breakpoint-up(sm) { height: 150px; }
  @include media-breakpoint-up(md) { height: 200px; }
  nav {
    @extend .navbar;
    @extend .navbar-light;
    @extend .navbar-fixed-top;
    @include animated-transition(all 0.3s ease-in-out 0.0s);
    padding: 0;
    border-width: 0 0 1px 0;
    border-style: solid;
    border-color: #000;
    background-color: rgba(#fff, 1);
    //@include show-size;
    @include media-breakpoint-down(xs) { position: relative; }
    @include media-breakpoint-down(xs) { height: auto; }
    @include media-breakpoint-up(sm) { height: 150px; }
    @include media-breakpoint-up(md) { height: 200px; }
    > div {
      @extend .container;
      position: relative;
      height: 100%;
      #logo {
        @extend .navbar-brand;
        @include animated-transition(all 0.3s ease-in-out 0.0s);
        @include media-breakpoint-down(xs) { position: static; }
        @include media-breakpoint-up(sm) { position: absolute; }
        width: auto;
        height: 100%;
        @include media-breakpoint-down(xs) { top: 23px; }
        @include media-breakpoint-up(sm) { top: 60px; }
        @include media-breakpoint-up(md) { top: 73px; }
        margin: 0;
        padding: 0;
        @include media-breakpoint-down(xs) { line-height: 1em; }
        @include media-breakpoint-up(sm) { line-height: 2rem; }
        @include media-breakpoint-up(md) { line-height: 3rem; }
        display: inline-block;
        text-align: center;
        text-transform: uppercase;
        @include media-breakpoint-up(xs) { font-size: 2rem; }
        @include media-breakpoint-up(sm) { font-size: 2rem; }
        @include media-breakpoint-up(md) { font-size: 3rem; }
        letter-spacing: 0.05em;
        word-spacing: 0.05em;
        span {
          margin-left: 0.3em;
          color: #aaa;
        }
      }
      ul {
        @extend .nav;
        @extend .navbar-nav;
        @include media-breakpoint-down(sm) { clear: both; }
        @include media-breakpoint-up(sm) {
          position: absolute;
          bottom: 0;
          right: 0;
	}
        height: 54px;
        margin: 0 auto;
        padding: 0;
        li {
          @extend .nav-item;
	  margin: 0 !important;
	  height: 54px;
	  line-height: 54px;
          a {
            @extend .nav-link;
            height: 56px;
            line-height: 34px;
            @include media-breakpoint-down(md) { padding: 10px 5px !important; }
            @include media-breakpoint-up(md) { padding: 10px 20px !important; }
            border-style: solid;
            border-width: 0 0 5px 0;
            border-color: transparent;
            &:hover {
              border-color: #a0a0a0;
            }
            &.active {
              border-color: #0275D8;
            }
          }
        }
      }
    }
  }
  &.minified {
    @include media-breakpoint-up(sm) {
      height:54px;
    }
    nav {
      @include media-breakpoint-up(sm) {
        height: 54px;
        border-width: 0 0 1px 0;
      }
      #logo {
        @include media-breakpoint-up(sm) {
          top: 0;
          height:54px;
          line-height: 54px;
          font-size: 1.25rem;
        }
      }
    }
  }
}


h2 {
  margin: 0 auto;
  padding: 0;
  line-height: 100px;
  font-size: 3rem;
}


.slick-slider {
  .slick-list {
    .slick-track {
      .slick-slide {
        border-width: 0 2px;
        &:first-child { border-left-width: 4px; }
        &:last-child { border-right-width: 4px; }
        border-color: #fff;
        border-style: solid;
        background-color: #fff;
        img {
          @include animated-transition(all .7s ease-in-out .2s);
          @include grayscale(1);
          opacity: 0.3;
        }
        &.slick-current {
          img {
            opacity: 1;
            @include grayscale(0);
          }
        }
      }
    }
  }
}


#actualite {
  @include make-container($gutter: 0);
  position: relative;
  @include media-breakpoint-down(md) { padding-top: 0px; }
  @include media-breakpoint-up(md) { padding-top: 44px; }
  h2 {
    @include make-container($gutter: 0);
    @include make-container-max-widths();
  }
  article {
    margin: 0 0 2rem 0;
    &:last-child { margin-bottom: 0; }
    .illustrations {
      @include animated-transition(all .7s ease-in-out .2s);
      @include media-breakpoint-up(xs) { height: 192px; }
      @include media-breakpoint-up(sm) { height: 192px; }
      @include media-breakpoint-up(md) { height: 240px; }
      @include media-breakpoint-up(lg) { height: 313px; }
      @include media-breakpoint-up(xl) { height: 380px; }
      position: relative;
      margin: 0;
      padding: 0;
      width: 100%;
      background: #f0f0f0;
      div {
        margin: 0;
        padding: 0;
        img {
          float: left;
          max-width: 100%;
          @include media-breakpoint-up(xs) { height: 192px; }
          @include media-breakpoint-up(sm) { height: 192px; }
          @include media-breakpoint-up(md) { height: 240px; }
          @include media-breakpoint-up(lg) { height: 313px; }
          @include media-breakpoint-up(xl) { height: 380px; }
        }
      }
    }
    .legend {
      @include make-container();
      @include make-container-max-widths();
      position: relative;
      clear: both;
      h3 {
        margin: 0;
        padding: 0;
        line-height: 2rem;
        @include media-breakpoint-down(md) { font-size: 1rem; }
        @include media-breakpoint-down(lg) { font-size: 1.2rem; }
        @include media-breakpoint-up(lg) { font-size: 1.5rem; }
	span {
	  font-size: 1rem;
          @include media-breakpoint-down(lg) { font-size: 0.9rem; }
          @include media-breakpoint-up(lg) { font-size: 1rem; }
	}
      }
      p {
        margin: 0;
        padding: 0;
        line-height: 1.5rem;
        @include media-breakpoint-down(md) { font-size: 0.9rem; }
        @include media-breakpoint-up(md) { font-size: 1rem; }
        color: #000;
      }
      .slick-arrow {
	position: relative;
	float: right;
	&.slick-disabled {
	  color: #a0a0a0;
	  cursor: auto;
	}
        &.prev {}
        &.next {}
      }
    }
  }
}


#parcours {
  @include make-container();
  @include make-container-max-widths();
  > div {
    @include make-row();
    h2 {
      @include make-col();
      @include make-col-span(12);
    }
    article {
      @include make-col();
      @include media-breakpoint-down(md) { @include make-col-span(12); }
      @include media-breakpoint-up(md) { @include make-col-span(6); }
    }
  }
}


#contact {
  @include make-container($gutter: 0);
  > div {
    width: 100%;
    background-color: #d1e7d2;
    background-image: url("/img/map.jpg");
    background-position: center;
    background-repeat: no-repeat;
    > div {
      @include make-container();
      @include make-container-max-widths();
      > div {
        @include make-row();
        article {
          @include make-col();
          @include make-col-span(3);
          padding: 0 20px;
          background-color: #fff;
        }
      }
    }
  }
}


#references {
  @include make-container();
  @include make-container-max-widths();
  > div {
    @include make-row();
    h2 {
      @include make-col();
      @include make-col-span(12);
    }
    article {
      @include make-col();
      @include media-breakpoint-down(md) { @include make-col-span(12); }
      @include media-breakpoint-up(md) { @include make-col-span(6); }
    }
  } 
}


footer {
  position: absolute;
  bottom: 2px;
  left: 0;
  width: 100%;
  height: 54px;
  margin: 0;
  padding: 0;
  border-width: 1px 0 0 0;
  border-style: solid;
  border-color: #c0c0c0;
  background-color: #f0f0f0;
  > div {
    @include make-container();
    > div {
      @include make-container();
      @include make-container-max-widths();
      p {
        line-height: 54px;
	font-size: 1.25rem;
        color: #a0a0a0;
        margin: 0 auto;
      }
    }
  }
}
